!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof module&&module.exports?require("jquery"):jQuery)}(function(t){var e={},l=function(e){var l=[],o=!1,s=e.dir&&"left"===e.dir?"scrollLeft":"scrollTop";return this.each(function(){var e=t(this);if(this!==document&&this!==window){if(document.scrollingElement&&(this===document.documentElement||this===document.body))return l.push(document.scrollingElement),!1;e[s]()>0?l.push(this):(e[s](1),(o=e[s]()>0)&&l.push(this),e[s](0))}}),l.length||this.each(function(){this===document.documentElement&&"smooth"===t(this).css("scrollBehavior")&&(l=[this]),l.length||"BODY"!==this.nodeName||(l=[this])}),"first"===e.el&&l.length>1&&(l=[l[0]]),l},o=/^([\-\+]=)(\d+)/;t.fn.extend({scrollable:function(t){var e=l.call(this,{dir:t});return this.pushStack(e)},firstScrollable:function(t){var e=l.call(this,{el:"first",dir:t});return this.pushStack(e)},smoothScroll:function(e,l){if("options"===(e=e||{}))return l?this.each(function(){var e=t(this),o=t.extend(e.data("ssOpts")||{},l);e.data("ssOpts",o)}):this.first().data("ssOpts");var o=t.extend({},t.fn.smoothScroll.defaults,e),s=function(e){var l=function(t){return t.replace(/(:|\.|\/)/g,"\\$1")},s=t(this),n=t.extend({},o,s.data("ssOpts")||{}),r=o.exclude,i=n.excludeWithin,c=0,a=0,h=!0,f={},u=t.smoothScroll.filterPath(location.pathname),p=t.smoothScroll.filterPath(this.pathname),d=location.hostname===this.hostname||!this.hostname,m=n.scrollTarget||p===u,g=l(this.hash);if(g&&!t(g).length&&(h=!1),n.scrollTarget||d&&m&&g){for(;h&&c<r.length;)s.is(l(r[c++]))&&(h=!1);for(;h&&a<i.length;)s.closest(i[a++]).length&&(h=!1)}else h=!1;h&&(n.preventDefault&&e.preventDefault(),t.extend(f,n,{scrollTarget:n.scrollTarget||g,link:this}),t.smoothScroll(f))};return null!==e.delegateSelector?this.off("click.smoothscroll",e.delegateSelector).on("click.smoothscroll",e.delegateSelector,s):this.off("click.smoothscroll").on("click.smoothscroll",s),this}});var s=function(t){var e={relative:""},l="string"==typeof t&&o.exec(t);return"number"==typeof t?e.px=t:l&&(e.relative=l[1],e.px=parseFloat(l[2])||0),e},n=function(e){var l=t(e.scrollTarget);e.autoFocus&&l.length&&(l[0].focus(),l.is(document.activeElement)||(l.prop({tabIndex:-1}),l[0].focus())),e.afterScroll.call(e.link,e)};t.smoothScroll=function(l,o){if("options"===l&&"object"==typeof o)return t.extend(e,o);var r,i,c,a,h=s(l),f={},u=0,p="offset",d="scrollTop",m={},g={};h.px?r=t.extend({link:null},t.fn.smoothScroll.defaults,e):((r=t.extend({link:null},t.fn.smoothScroll.defaults,l||{},e)).scrollElement&&(p="position","static"===r.scrollElement.css("position")&&r.scrollElement.css("position","relative")),o&&(h=s(o))),d="left"===r.direction?"scrollLeft":d,r.scrollElement?(i=r.scrollElement,!h.px&&/^(?:HTML|BODY)$/.test(i[0].nodeName)&&(u=i[d]())):i=t("html, body").firstScrollable(r.direction),r.beforeScroll.call(i,r),f=h.px?h:{relative:"",px:t(r.scrollTarget)[p]()&&t(r.scrollTarget)[p]()[r.direction]||0},m[d]=f.relative+(f.px+u+r.offset),"auto"===(c=r.speed)&&(c=(a=Math.abs(m[d]-i[d]()))/r.autoCoefficient),g={duration:c,easing:r.easing,complete:function(){n(r)}},r.step&&(g.step=r.step),i.length?i.stop().animate(m,g):n(r)},t.smoothScroll.version="2.2.0",t.smoothScroll.filterPath=function(t){return(t=t||"").replace(/^\//,"").replace(/(?:index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},t.fn.smoothScroll.defaults={exclude:[],excludeWithin:[],offset:0,direction:"top",delegateSelector:null,scrollElement:null,scrollTarget:null,autoFocus:!1,beforeScroll:function(){},afterScroll:function(){},easing:"swing",speed:400,autoCoefficient:2,preventDefault:!0}});
